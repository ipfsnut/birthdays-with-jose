name = "birthday-songs-api"
main = "src/index.ts"
compatibility_date = "2023-12-01"
compatibility_flags = ["nodejs_compat"]
account_id = "2592aa1c39699422b870340232f9ad38"

# Environment variables
[vars]
ENVIRONMENT = "development"

# Secrets (set via `wrangler secret put`)
# ARWEAVE_PRIVATE_KEY
# TURBO_TOKEN_TYPE

# D1 Database
[[d1_databases]]
binding = "DB"
database_name = "birthday-songs-db"
database_id = "f9df84a6-4625-4b37-9e20-1637b107adff"

# KV Storage for settings
[[kv_namespaces]]
binding = "SETTINGS"
id = "ebccf15623a44313ac911eca80ff7ea3"

# Production environment
[env.production]
name = "birthday-songs-api-prod"
vars = { ENVIRONMENT = "production" }

# Custom domains (add after deployment)
# [env.production.routes]
# pattern = "api.birthday-songs.com/*"
# zone_name = "birthday-songs.com"