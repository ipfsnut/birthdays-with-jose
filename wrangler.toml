# Cloudflare configuration for Birthday Songs Monorepo

# API Worker configuration
[env.production.worker]
name = "birthday-songs-api"
main = "apps/api-worker/src/index.ts"
compatibility_date = "2024-12-15"
node_compat = true

[env.production.worker.vars]
ENVIRONMENT = "production"

# D1 Database binding
[[env.production.worker.d1_databases]]
binding = "DB"
database_name = "birthday-songs-db"

# KV storage for caching
[[env.production.worker.kv_namespaces]]
binding = "CACHE"
id = "birthday-songs-cache"

# Secrets (configure via dashboard)
# - ARWEAVE_PRIVATE_KEY
# - DRIVE_ID
# - DRIVE_PASSWORD

# Pages deployment configurations will be handled via CLI
# Customer app: wrangler pages deploy apps/customer-app/out --project-name=birthday-songs-customer
# Jose dashboard: wrangler pages deploy apps/jose-dashboard/out --project-name=birthday-songs-dashboard